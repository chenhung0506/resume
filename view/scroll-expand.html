<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll to Expand Subpages</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      overflow: hidden;
      background: url('img/bg-horizontal.jpg') no-repeat center center fixed;
      background-size: cover;
      padding: 0;
    }
    
    html { scroll-behavior: smooth; }

    iframe {
        z-index: 10;
        position: relative;
        width: 100%;
        height: 100vh;
        border: none;
        background: transparent; /* 確保 iframe 背景透明 */
    }
    
    .container {
      position: relative;
      height: 100vh;
      overflow-y: scroll;
      scroll-snap-type: y mandatory;
    }

    .section {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2em;
      transition: height 1s ease, opacity 1s ease;
      height: 0vh;
      opacity: 0;
      scroll-snap-align: center;
      position: relative;
      margin: 0;
    }

    .section iframe {
      width: 100%;
      height: 100%;
      border: none;
      position: absolute;
      top: 0;
      left: 0;
      overflow: hidden;
      background: #fff;
    }

    .section.active {
      height: 85vh;
      opacity: 1;
    }

    .shrink {
      text-shadow: 0px 0px 2px #eeb213;
      color: #eeb213;
      background: rgba(0,0,0,0.8);
      height: 8vh;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5em;
      margin: 2px;
      cursor: pointer;
    }

    .shrink:hover {
      background: rgba(0,0,0,1);
      text-shadow: 0px 0px 1px #eeb213;
    }

    .shrink.active {
      background: rgba(0,0,1,1);
      opacity: 0.7;
    }
    /* Resume */
    .container-resume {
      position: relative;
      z-index: 1;
      width: 60%;
      margin: auto;
      background-color: rgba(0, 0, 0, 0.1);
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      /* transform: translateY(0em); */
      overflow-y: auto; /* 獨立滾動條 */
      max-height: 70vh; /* 設定高度以啟用滾動條 */
    }

    .container-resume::-webkit-scrollbar {
      width: 8px; /* 捲動條寬度 */
    }

    .container-resume::-webkit-scrollbar-thumb {
      background-color: #cccccc; /* 捲動條滑塊顏色 */
      border-radius: 10px; /* 圓角 */
    }

    .container-resume::-webkit-scrollbar-track {
      background-color: #f0f0f0; /* 捲動條軌道顏色 */
    }

    h1, h2, h3, h4 {color: #333;}

    ul {
      list-style: none;
      padding: 0;
    }

    ul li { margin: 5px 0;}

    a {
      color: #0066cc;
      text-decoration: none;
    }

    .info {
      background-color: rgba(223, 240, 216, 0.85);
      color: #3c763d;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }

    .success {
      background-color: rgba(217, 237, 247, 0.8);
      color: #31708f;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }

    .warning {
      background-color: rgba(252, 248, 227, 0.9);
      color: #8a6d3b;
      padding: 10px;
      border-radius: 5px;
      margin: 10px 0;
    }


    /* Carousel styles */
    .carousel {
      position: relative;
      width: 80%; /* 調整為適合你的需求 */
      margin: 20px auto;
      overflow: hidden;
    }
    
    .carousel-inner {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    
    .carousel-item {
      min-width: 100%;
      box-sizing: border-box;
    }

    .carousel img {
      width: 100%;
      height: auto;
      display: block;
    }

    .carousel-control {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      padding: 10px;
      cursor: pointer;
      z-index: 2;
    }

    .carousel-control.left {
      left: 0;
    }

    .carousel-control.right {
      right: 0;
    }

  </style>
</head>
<body>
  <div class="container">
    <div class="shrink" data-target="section1">Resume</div>
    <div class="section" id="section1">
      <!-- ========== -->
    <div class="container-resume">
        <h1>Chen-hung Lin Resume</h1>
        <h2>Personal information</h2>
        <ul>
            <li>Name: 林宸宏, ages: 34, height: 178 cm, weight 77 kg</li>
            <li>English name: Chen Hung Lin</li>
            <li>E-mail: <a href="mailto:chenhung0506@gmail.com">chenhung0506@gmail.com</a></li>
            <li>Address: 台北市士林區社子街＊＊＊號</li>
            <li>Phone: 0919040448</li>
        </ul>
        <h2>License</h2>
        <ul>
            <li>Oracle OCA AD</li>
        </ul>
        <h2>Skills</h2>
        <ul>
            <li>Frontend: React (maintain)、VUE (maintain)、jQuery</li>
            <li>Backend: Java 8-year、Python3 (Flask) 2-year、Golang 2-year、Kotlin 1-year</li>
            <li>Dev-Skill: Docker、bash-shell、Nginx、Git</li>
            <li>Java-Skill: AOP、JPA、mybatis、multi-thread、security</li>
            <li>Tools: Kafka、RabbitMQ、Redis、ElasticSearch</li>
            <li>Database: MS-SQL、MySQL、Oracle、Redis、FireBase、DynamoDB</li>
            <li>OS: Mac、CentOs (Linux)</li>
            <li>Cloud: AWS、GCP、Linode、Heroku</li>
        </ul>

        <h2>Employment history</h2>
        <div class="success">
            <h3>Company: Catchplay (台灣威亞科技)</h3>
            <h4>Job: Backend Engineer</h4>
            <p>Since: 2023.09.01 ~ 2024.11.01</p>
            <p>Salary: 1400k annually</p>
            <h4>Skills:</h4>
            <ul>
                <li>Framework: spring-boot(Java), Kotlin</li>
                <li>DB: MySQL</li>
                <li>OS: CentOs</li>
                <li>Tools: Redis、RabbitMQ、ElasticSearch、DynamoDB</li>
                <li>Dev-Skill: GraphQL、Flow、Docker、bash-shell、Git</li>
            </ul>
            <h4>Main develop:</h4>
            <ul>
                <li>Concatenation AWS Recommendation: Use AWS Recommendations to replace existing algorithms</li>
                <li>Concatenation AWS DynamoDB: Provide users create personal playlist feature and like/subscribe features</li>
                <li>Concatenation AWS S3: User can upload personal videos to fanloop platform</li>
            </ul>
            <h4>Routine job:</h4>
            <ul>
                <li>Catchplay: Develop customized API for partners, add batch editing member info feature, GraphQL API maintain</li>
                <li>Critical Bug fix: Use Redis lock to prevent double-click</li>
            </ul>
        </div>

        <div class="info">
            <h3>Company: Hytech (海科科技)</h3>
            <h4>Job: Backend Engineer</h4>
            <p>Since: 2021.09.01 ~ 2023.08.31</p>
            <p>Salary: 1250k annually</p>
            <h4>Skills:</h4>
            <ul>
                <li>Framework: spring-boot(Java), Flask(python), VUE, React</li>
                <li>DB: MySQL</li>
                <li>OS: CentOs</li>
                <li>Tools: Redis、Kafka、Apollo、ElasticSearch</li>
                <li>Dev-Skill: Docker、bash-shell、Git</li>
                <li>Java-Skill: AOP、JPA、mybatis、multi-thread、synchronized、security</li>
                <li>Design pattern: Strategy, Singleton, Template</li>
            </ul>
            <h4>Main develop:</h4>
            <ul>
                <li>Deposit bonus campaign (Java): User will earn rewards after depositing</li>
                <li>Refer a friend campaign (Java): User will earn rewards after referring friends</li>
                <li>Trading bonus campaign (Java): User will earn rewards after trading specific lots</li>
            </ul>
            <h4>Routine job:</h4>
            <ul>
                <li>Develop products:</li>
                <ul>
                    <li>Restful API: Client Portal (Java), Admin Portal (Java), Campaign Report (Java, VUE), Davinci Report (Python, React)</li>
                    <li>Cronjob: Commission job (Java), Trade lots job (Java), Status machine job (Java)</li>
                    <li>Kafka: Deposit consumer, Register consumer, Create account consumer</li>
                </ul>
            </ul>
        </div>

        <div class="warning">
            <h3>Side project</h3>
            <ul>
                <li>Framework: Flask(python), spring-boot(Java)</li>
                <li>Server: nginx, tomcat</li>
                <li>DB: MySQL</li>
                <li>OS: CentOs</li>
                <li>Cloud: GCP、Linode、Heroku</li>
                <li>Dev-Skill: Docker、bash-shell、Git、Jenkins</li>
                <li>Dev-tech: jwt, encrypt, md5, captcha, Google recaptcha, smtp, jquery</li>
            </ul>
        </div>

        <h2>Education</h2>
        <ul>
            <li>Master of Science: 國立中央大學 (Hydrology and Ocean Sciences) - 2012/7~2015/6</li>
            <li>Bachelor of Science: 私立逢甲大學 (Hydraulic Engineering and Conservation) - 2008/7~2012/6</li>
        </ul>
    </div>
      <!-- ========== -->
    </div>
    <div class="shrink" data-target="section2">Certificate</div>
    <div class="section" id="section2">
      <div class="carousel">
        <div class="carousel-inner">
          <div class="carousel-item">
            <img src="img/1-1.png" alt="Image 1">
          </div>
          <div class="carousel-item">
            <img src="img/1-2.png" alt="Image 2">
          </div>
          <div class="carousel-item">
            <img src="img/1-3.png" alt="Image 3">
          </div>
        </div>
        <div class="carousel-control left" onclick="moveCarousel(-1)">&#10094;</div>
        <div class="carousel-control right" onclick="moveCarousel(1)">&#10095;</div>
      </div>
    </div>
    <div class="shrink" data-target="section3">Architecture</div>
    <div class="section" id="section3">
      Discover Section 3
    </div>
    <div class="shrink" data-target="section4">Other</div>
    <div class="section" id="section4">Discover Section 4</div>
    <div class="shrink" data-target="section5">Thanks</div>
    <div class="section" id="section5">Thanks for Reaching my Website</div>
    
  </div>

  <script>
    const sections = document.querySelectorAll('.section');
    const shrinks = document.querySelectorAll('.shrink');
    const element = document.querySelector('#section1');
    const containerResume = document.querySelector('.container-resume');
    containerResume.addEventListener('mouseover', () => isMouseInsideResume = true);
    containerResume.addEventListener('mouseleave', () => isMouseInsideResume = false);

    let activeIndex = 0; // 目前展開的 section 索引
    let isMouseInsideResume = false;

    const section2 = document.querySelector('#section2');
    let scrollTimeout;


    // 阻止外層的滾動行為
    document.addEventListener('wheel', (event) => {
      if (isMouseInsideResume) { event.stopPropagation();}
    });

    function expandSection(index) {
      sections.forEach((section, i) => {
        if (i === index) {
          section.style.height = '85vh';
          section.style.opacity = '1';
        } else {
          section.style.height = '0vh';
          section.style.opacity = '0';
        }
      });
    }

    function handleScroll(event) {
      if (scrollTimeout) {
        clearTimeout(scrollTimeout);
      }
      if (!isMouseInsideResume && event.deltaY > 0) {
        activeIndex = Math.min(activeIndex + 1, sections.length - 1);
      } else if (!isMouseInsideResume && event.deltaY < 0) {
        activeIndex = Math.max(activeIndex - 1, 0);
      }
      expandSection(activeIndex);
      scrollTimeout = setTimeout(() => {
        // Allow scroll again after 1 second
      }, 1000);
    }

    // 初始展開第一個 Section
    expandSection(activeIndex);

    // 監聽滑鼠滾輪事件
    document.addEventListener('wheel', handleScroll);



    // Click event for shrinks
    shrinks.forEach(shrink => {
      shrink.addEventListener('click', () => {
        const targetId = shrink.getAttribute('data-target');
        const targetSection = document.getElementById(targetId);
        // Toggle the section visibility
        if (targetSection.classList.contains('active')) {
          targetSection.classList.remove('active');
          targetSection.style.height = '0vh';
          targetSection.style.opacity = '0';
        } else {
          // Collapse all sections
          sections.forEach(section => {
            section.classList.remove('active');
            section.style.height = '0vh';
            section.style.opacity = '0';
          });

          // Expand the clicked section
          targetSection.classList.add('active');
          targetSection.style.height = '85vh';
          targetSection.style.opacity = '1';
        }

        // Move the clicked shrink section to the top of the screen
        const shrinkPosition = shrink.getBoundingClientRect().top + window.scrollY;
        window.scrollTo({top: 0,behavior: 'smooth'});
      });
    });

    // Carousel Control
    let currentSlide = 0;

    function moveCarousel(direction) {
      const carouselInner = document.querySelector('.carousel-inner');
      const totalSlides = document.querySelectorAll('.carousel-item').length;

      currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
      carouselInner.style.transform = `translateX(-${currentSlide * 100}%)`;
    }
  </script>
</body>
</html>
